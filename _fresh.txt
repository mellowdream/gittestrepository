
REFRESHIE.NG

12 July 2020 @ 7:34pm


1) Setup ENV
https://www.electronjs.org/docs/tutorial/development-environment#developer-environment


2) Install latest electron
npm i -D electron@latest
+ electron@9.1.0


3) $ npm install --save-dev electron



===========================================================================


BETTER WAY WITH FORGE

npm install -g electron-forge
electron-forge init my-new-app
cd my-new-app
npm start
https://www.npmjs.com/package/electron-forge



electron-forge init ref--template=typescript-webpack


=========>> WORKS
 npx create-electron-app my-new-app --template=typescript-webpack
- Initializing Project Directory
? Initializing Project Directory
- Initializing Git Repository
? Initializing Git Repository
- Locating custom template: "typescript-webpack"
? Locating custom template: "typescript-webpack"
- Copying Starter Files
? Copying Starter Files
- Initializing NPM Module
? Initializing NPM Module
- Setting up Forge configuration
? Setting up Forge configuration
- Setting up TypeScript configuration
? Setting up TypeScript configuration
- Installing Template Dependencies
? Installing Template Dependencies
- Installing NPM Dependencies

[Creates WEBPACK build etc..
Not using for now]




EXISTING PROJECT :
npx @electron-forge/cli import
[Finally this was done]


> electron-forge start


BUILD

electron-forge make
- Checking your system(node:4052) ExperimentalWarning: The fs.promises API is experimental
? Checking your system
(node:7752) ExperimentalWarning: The fs.promises API is experimental
? Resolving Forge Config
We need to package your application before we can make it
? Preparing to Package Application for arch: x64
? Preparing native dependencies
? Packaging Application
Making for the following targets: squirrel
| Making for target: squirrel - On platform: win32 - For arch: x64



npm install jquery --save
<script>window.$ = window.jQuery = require('jquery');</script>
<!-- If the require doesn't work, include first the jQuery file
<script src="jquery-3.0.0.min.js"></script>-->
<script>window.$ = window.jQuery = require('./jquery-3.0.0.min.js');</script>
OR
let win = new BrowserWindow({
 webPreferences: {
 nodeIntegration: false   } });
 <head>
 <script>
 window.nodeRequire = require;
 delete window.require;
 delete window.exports; delete window.module;
 </script>
 <script type="text/javascript" src="jquery.js"></script>
 </head>





console.log("app.isPackaged",electron.remote.app.isPackaged);
console.log("app.filename",electron.remote.process.mainModule.filename);
console.log("!app.asar",electron.remote.process.mainModule.filename.indexOf('app.asar') === -1);


